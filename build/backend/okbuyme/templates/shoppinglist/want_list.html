{% extends "base.html" %}
{% load i18n %}

{% block title %}
    {{ block.super }} | {% trans "Your list" %}
{% endblock title %}

{% block templates %}
<script type="text/template" id="WantTemplate">
    <div class="want">
        <span class="want-name"><%= name %></span>
        <span class="want-owner">Dieter L</span>
        <span class="want-actions">
            <a href="#" class="ir edit">edit</a>
            <a href="#" class="ir details">details</a>
            <a href="#" class="ir delete">delete</a>
        </span>
        <div class="want-details">
            <%= notes %>
        </div>
    </div>
</script>
{% endblock templates %}

{% block main_content %}
<div id="FilterPanel" class="clearfix">
  <h2>{% trans "Locations" %}</h2>

  <p>{% trans "Click a location to show or hide items for it." %}</p>

  <ul id="ByLocation">
    <li class="tag on">Home Depot</li>
    <li class="tag off">Hardware store</li>
    <li class="tag on">Shoppers Drug Mart</li>
    <li class="tag on">Loblaws</li>
    <li class="tag off">Zellers</li>
    <li class="tag on">Grocery store</li>
    <li class="tag off">RONA</li>
  </ul>
</div>

<div id="ListArea">
    <header>
    <h2>{% trans "Stuff to get!" %}</h2>
    <a href="#">{% trans "Add" %}</a>
    </header>

    <p id="WantListIntro">{% trans "Here is where your items to buy will appear. To make a list, select some locations based on where you are or will be shopping." %}</p>

    <ul id="WantList" class="clearfix"></ul>
</div>
{% endblock main_content %}


{% block javascript %}
<script language="JavaScript">
var wantList = [
    {% for want in want_list %}
        {{ want.get_json|safe }}{% if not forloop.last %},{% endif %}
    {% endfor %}
]

_.each(wantList, function(want){
    wants.add(want);
});
var app = new AppView();
</script>
{% endblock %}
