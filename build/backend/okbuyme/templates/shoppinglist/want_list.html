{% extends "base.html" %}
{% load i18n %}

{% block title %}
    {{ block.super }} | {% trans "Your list" %}
{% endblock title %}

{% block templates %}
<script type="text/template" id="WantTemplate">
    <div class="want">
        <span class="want-name"><%= name %></span>
        {% comment %}
        <span class="want-owner">Dieter L</span>
        {% endcomment %}
        <span class="want-actions">
            <a href="#" class="ir edit">edit</a>
            <% if (notes) { %>
              <a href="#" class="ir details">details</a>
            <% } %>
            <a href="#" class="ir delete">delete</a>
        </span>
        <div class="want-details">
            <%= notes %>
        </div>
    </div>
</script>

<script type="text/template" id="AddWantFormTemplate">
</script>
{% endblock templates %}

{% block main_content %}
<div id="AddButton">
    <a id="AddWant" class="ir" href="#">{% trans "Add" %}</a>
</div>

<div id="ListArea">
    <form action="." method="POST" id="AddWantForm">
        {% csrf_token %}
        {% include "includes/form-snippet.html" %}
        <div class="form-row submit">
            <input type="submit" value="{% trans "Save this item" %}" />
        </div>
    </form>
    <p>{% trans "Lorem ipsum dolor sit yadda yadda." %}</p>
    <ul id="WantList" class="clearfix"></ul>
</div>
{% endblock main_content %}


{% block javascript %}
{% comment %}
<script language="JavaScript">
var wantList = [
    {% for want in want_list %}
        {{ want.get_json|safe }}{% if not forloop.last %},{% endif %}
    {% endfor %}
]

_.each(wantList, function(want){
    wants.add(want);
});
var app = new AppView();
</script>
{% endcomment %}
{% endblock %}
